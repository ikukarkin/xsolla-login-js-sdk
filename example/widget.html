<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XL Widget</title>
    <script type="application/javascript" src="./../dist/xl.js"></script>
</head>
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, Roboto, Open Sans, Helvetica Neue, sans-serif;
        background-color: #f6faff;
    }

    #container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>
<body>
<div id="container">
    <h1>Xsolla login widget</h1>
    <div id="xl_widget"></div>
</div>
<script type="application/javascript">
    window.onload = function () {
        XL.init({
            projectId: '40db2ea4-5d42-11e6-a3ff-005056a0e04a',
            redirectUrl: 'https://publisher.xsolla.com'
        });
        XL.AuthWidget('xl_widget', {
            widgetBaseUrl: 'https://xl-widget.xsolla.com/',
            width: 500
        });

        XL.on(XL.eventTypes.LOAD, function () {
            console.log('loaded');
        });

        XL.on(XL.eventTypes.CLOSE, function () {
            console.log('can close now');
        });

        XL.on(XL.eventTypes.REGISTRATION_REQUEST, function () {
            console.log('registration request has been sent');
        });

        XL.on(XL.eventTypes.AUTHENTICATED, function(data) {
            console.log('cb data', data.urlParams);
        });
    }
</script>
</body>
</html>
